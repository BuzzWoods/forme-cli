{"version":3,"sources":["../src/bin/woo-cli.ts","../src/commander/base/create.ts","../src/types.ts","../src/utils/validateTemplate.ts","../src/commander/base/info.ts","../package.json","../src/commander/registeCommander.ts","../src/index.ts"],"sourcesContent":["#!/usr/bin/env node\n\nimport { program } from \"commander\";\nimport { createAppCommand } from \"../commander/base/create\";\nimport { infoCommand } from \"../commander/base/info\";\nimport { registeCommander } from \"../commander/registeCommander\";\n\nexport function loadCommander() {\n  registeCommander(infoCommand);\n  registeCommander(createAppCommand);\n  program.parse();\n}\n","#!/usr/bin/env node\nimport { Command } from \"commander\";\nimport pc from \"picocolors\";\nimport { validateTemplate } from \"utils/validateTemplate\";\nimport fsextra from \"fs-extra\";\nimport path from \"path\";\nimport { fileURLToPath } from \"url\";\nimport { TamplateEum } from \"types\";\n// 依据模版创建内容\n\n// 基本命令 create <project-name>\n// 可选项：-t --template <template-name> 指定模版名称\n// 可选项：-r --remote <remote-url> 远程加载列表\n// 可选项：-p --path 项目路径 默认：当前执行程序的父路径下\n\n// 是否选择了模版？\n// 是 - 生成模版(// 模版内容详细配置，包依赖，风格，约束。。。。 // TODO)\n// 否 - 打开模版选择列表\n// 选择一个模版 - 生成模版\n\nexport function createAppCommand(program: Command) {\n  function selectTemplate() {\n    console.log(pc.green(\"请选择一个模版\"));\n  }\n\n  function createTemplate(template: string, projectName: string) {\n    console.log(pc.green(`正在创建 ${template} 项目`));\n    // 拿到用户当前工作目录（目标项目创建位置）\n    const targetPath = path.join(process.cwd(), projectName);\n    // 获取CLI工具安装位置的模版文件路径\n    // __dirname 在 CommonJS 中指向当前文件所在目录\n    // 从 src/commander/base 向上两级到达项目根目录，再进入 tamplates 文件夹\n    const templatePath = path.join(\n      __dirname,\n      \"../tamplates\",\n      TamplateEum[template]\n    );\n\n    console.log(pc.blue(`模板路径: ${templatePath}`));\n    console.log(pc.blue(`目标路径: ${targetPath}`));\n\n    // 写入文件\n    fsextra\n      .copy(templatePath, targetPath)\n      .then(() => console.log(pc.green(`${template} 项目创建成功！`)))\n      .catch((err) => console.error(pc.red(`创建失败: ${err.message}`)));\n  }\n\n  program\n    .command(\"create <project-name>\")\n    .option(\"-t, --template <template-name>\", \"指定模版名称\")\n    .description(\"创建一个项目\")\n    .action((projectName, options) => {\n      const { template } = options;\n      console.log(\"模版名称：\", template);\n      if (template && validateTemplate(template)) {\n        createTemplate(template, projectName);\n      } else {\n        console.log(pc.red(`模版 ${template} 不存在, 请选择一个模版`));\n        selectTemplate();\n      }\n    });\n}\n","export enum TamplateEum {\n  \"react\" = \"react-tamplate\",\n  \"react-ts\" = \"react-ts-tamplate\",\n}\n","import { TamplateEum } from \"types\";\n\nexport function validateTemplate(templateName: string): boolean {\n  return Boolean(TamplateEum[templateName]);\n}\n","#!/usr/bin/env node\nimport { Command } from \"commander\";\nimport pc from \"picocolors\";\nimport packageJson from \"../../../package.json\";\n\nexport function infoCommand(program: Command) {\n  program\n    .command(\"info\")\n    .description(\"woo-cli 信息\")\n    .action(() => {\n      console.log(\n        pc.redBright(`woo-cli version: ${pc.yellow(packageJson.version)}`)\n      );\n      console.log(\n        pc.redBright(`woo-cli author: ${pc.yellow(packageJson.author)}`)\n      );\n      console.log(\n        pc.redBright(\n          `woo-cli description: ${pc.yellow(packageJson.description)}`\n        )\n      );\n    });\n}\n","{\n  \"name\": \"woo-cli\",\n  \"version\": \"1.0.0\",\n  \"description\": \"front-end cli\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://gitee.com/huangWenT/woo-cli.git\"\n  },\n  \"license\": \"ISC\",\n  \"author\": \"huangwentao\",\n  \"type\": \"commonjs\",\n  \"main\": \"dist/index.js\",\n  \"bin\": {\n    \"woo\": \"dist/index.js\"\n  },\n  \"scripts\": {\n    \"build\": \"tsup\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^24.9.1\",\n    \"tsup\": \"^8.5.0\"\n  },\n  \"dependencies\": {\n    \"commander\": \"^14.0.1\",\n    \"fs-extra\": \"^11.3.2\",\n    \"picocolors\": \"^1.1.1\",\n    \"typescript\": \"^5.9.3\"\n  }\n}\n","import { Command, program } from \"commander\";\n\ntype RegisteCommander = (fn: (program: Command) => void) => void;\n\nexport const registeCommander: RegisteCommander = (fn) => {\n  fn(program);\n};\n","#!/usr/bin/env node\nimport { loadCommander } from \"./bin/woo-cli\";\n\nloadCommander();\n"],"mappings":"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","names":["import_commander","TamplateEum","program","pc","path","fsextra","import_picocolors","program","pc"]}